<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layouts/layout :: layout(~{::title}, ~{::#content})}">
<header>
</header>
<body>
<title>Checkout</title>
<section id="content">
  <script>
    const items = [{itemId: [[${itemId}]], count: 1}]
  </script>
  <script src="https://js.stripe.com/v3/"></script>
  <script src="/js/checkout.js" defer></script>
  <div class="row justify-content-md-center">
    <div class="col-6">
      <div class="text-center mt-40">
        <h1>
          Checkout â€” Stripe Press
        </h1>
        <h5 class="text-secondary">
          [[${title}]]
        </h5>
        <hr class="mt-40">
        <div class="mt-20 text-info">
          Total due: $<span class="amount" th:attr="data-amount=${amount}"></span>
        </div>
      </div>
      <div class="card box-shadow mt-40">
        <div class="card-body">
          <form id="payment-form" name="payment-form">
            <div>
              <label for="email">Email address</label>
              <input type="email" class="form-control" id="email" name="email"
                     placeholder="you@email.com">
            </div>
            <div class="mt-20 text-center text-secondary border-placeholder">

              <div id="payment-element">
                <!--Stripe.js injects the Payment Element-->
              </div>
            </div>

            <div class="spinner hidden" id="spinner"></div>
            <div class="mt-20">
              <button id="submit" type="submit" class="btn btn-lg btn-block btn-primary">Pay $<span
                  id="button-text" class="amount" th:attr="data-amount=${amount}"></span></button>
            </div>

            <div id="payment-message" class="hidden"></div>
          </form>
        </div>
      </div>
    </div>
  </div>
</section>
</body>
</html>
